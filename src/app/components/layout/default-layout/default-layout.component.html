<div class="layout" [class.no-sidebar]="!isDesktop">

  <aside *ngIf="isDesktop && isSidebarVisible" class="sidebar">
    <app-sidebar></app-sidebar>
  </aside>

  <header class="header">
    <app-default-header (toggleSidebar)="toggleSidebar()"></app-default-header>
  </header>

  <main class="content">
    <router-outlet></router-outlet>
  </main>

  <!-- BotÃ³n flotante Regina -->
  <div class="regina-chat-slot" (click)="toggleReginaChat()">
    <span>Regina</span>
  </div>

  <!-- Panel de chat -->
  <div class="regina-chat-panel" *ngIf="showReginaChat">

    <div class="regina-chat-header">
      <span>Regina</span>
      <button type="button" (click)="toggleReginaChat()">âœ•</button>
    </div>

    <div class="regina-chat-body">

      <div class="regina-messages">
        <div
          *ngFor="let m of messages"
          class="msg"
          [class.user]="m.from === 'user'"
          [class.bot]="m.from === 'bot'">

          <b>{{ m.from === 'user' ? 'TÃº' : 'Regina' }}:</b>
          {{ m.text }}
        </div>
      </div>

      <div class="regina-input">

        <input
          type="text"
          [(ngModel)]="userInput"
          placeholder="Escribe a Regina..." />

        <button type="button" class="mic" (click)="hablar()">ðŸŽ¤</button>
        <button type="button" class="send" (click)="enviarTexto()">âž¤</button>

      </div>

    </div>
  </div>

</div>

<app-default-footer></app-default-footer>
<app-default-footer-mobile *ngIf="!isDesktop"></app-default-footer-mobile>
